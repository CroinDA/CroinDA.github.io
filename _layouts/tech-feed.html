<!DOCTYPE html>
<html class="dark" lang="{{ site.locale | replace: "_", "-" | default: "en" }}">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>{% if page.title %}{{ page.title }} - {% endif %}{{ site.title }}</title>

<!-- SEO Meta Tags -->
<meta name="description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}" />
<meta name="keywords" content="AI, Machine Learning, Deep Learning, NLP, Computer Vision, RecSys, 머신러닝, 딥러닝" />
<meta name="author" content="{{ site.author.name }}" />
<link rel="canonical" href="{{ page.url | absolute_url }}" />

<!-- Open Graph Meta Tags -->
<meta property="og:type" content="website" />
<meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
<meta property="og:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}" />
<meta property="og:url" content="{{ page.url | absolute_url }}" />
<meta property="og:site_name" content="{{ site.title }}" />
<meta property="og:locale" content="{{ site.locale | default: 'ko_KR' }}" />
{% if site.og_image %}<meta property="og:image" content="{{ site.og_image | absolute_url }}" />{% endif %}

<!-- Twitter Card Meta Tags -->
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}" />
<meta name="twitter:description" content="{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}" />
{% if site.og_image %}<meta name="twitter:image" content="{{ site.og_image | absolute_url }}" />{% endif %}
{% if site.twitter.username %}<meta name="twitter:site" content="@{{ site.twitter.username }}" />{% endif %}

<!-- Structured Data (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "CollectionPage",
  "name": "{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}",
  "description": "{% if page.excerpt %}{{ page.excerpt | strip_html | strip_newlines | truncate: 160 }}{% else %}{{ site.description }}{% endif %}",
  "url": "{{ page.url | absolute_url }}",
  "publisher": {
    "@type": "Organization",
    "name": "{{ site.title }}",
    "logo": {
      "@type": "ImageObject",
      "url": "{{ site.logo | absolute_url }}"
    }
  }
}
</script>

<!-- Microsoft Clarity -->
<script type="text/javascript">
    (function(c,l,a,r,i,t,y){
        c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
        t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
        y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
    })(window, document, "clarity", "script", "v8xn028inl");
</script>

<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&amp;family=JetBrains+Mono:wght@400;500;600&amp;display=swap" rel="stylesheet"/>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
<script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#00c9db",
                        "primary-bright": "#00f2ff",
                        "accent": "#7000ff",
                        "background-light": "#ffffff",
                        "background-dark": "#0a0a0c",
                        "card-dark": "#121214",
                        "surface-dark": "#1a1a1c",
                        "border-dark": "#2a2a2c",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"],
                        "mono": ["JetBrains Mono", "monospace"]
                    },
                    borderRadius: {
                        "DEFAULT": "0.375rem",
                        "lg": "0.5rem",
                        "xl": "0.75rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
<style type="text/tailwindcss">
        @layer base {
            body {
                @apply bg-background-light dark:bg-background-dark font-display text-slate-900 dark:text-slate-300;
                min-height: 100dvh;
            }
        }
        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 300, 'GRAD' 0, 'opsz' 20;
        }
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .tag-pill {
            @apply px-2 py-0.5 rounded text-[10px] font-mono border transition-colors;
        }
    </style>
<style>
    body {
      min-height: max(884px, 100dvh);
    }
  </style>
</head>
<body class="antialiased">
<header class="sticky top-0 z-50 bg-background-light/90 dark:bg-background-dark/90 backdrop-blur-xl border-b border-slate-200 dark:border-border-dark">
<div class="flex items-center justify-between px-4 h-14">
<a href="/" class="flex items-center gap-3">
<div class="size-8 rounded bg-accent flex items-center justify-center">
<span class="material-symbols-outlined text-white text-xl">terminal</span>
</div>
<h1 class="font-bold text-lg tracking-tight dark:text-white">{{ site.title }}<span class="text-accent">.</span>Feed</h1>
</a>
</div>
<div class="px-4 pb-4">
<div class="relative group">
<div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
<span class="material-symbols-outlined text-slate-400 dark:text-slate-500 text-lg">search</span>
</div>
<input id="search-input" class="block w-full pl-10 pr-3 py-2 bg-slate-100 dark:bg-surface-dark border-transparent focus:border-primary focus:ring-1 focus:ring-primary rounded-lg text-sm font-mono placeholder-slate-500 transition-all" placeholder="grep articles tags categories..." type="text"/>
<div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
<span class="text-[10px] font-mono text-slate-400 border border-slate-300 dark:border-slate-700 px-1.5 rounded">/</span>
</div>
</div>
</div>
</header>

<main class="max-w-screen-xl mx-auto">
<!-- Categories and Tags Section -->
<div class="px-4 py-6 space-y-6 border-b border-slate-200 dark:border-border-dark">
<div>
<h3 class="font-mono text-[11px] uppercase tracking-widest text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-2">
<span class="material-symbols-outlined text-xs">folder_open</span>
                _categories
            </h3>
<div class="flex flex-nowrap overflow-x-auto gap-2 no-scrollbar pb-2">
<a href="/posts/" class="px-3 py-1.5 {% if page.url == '/posts/' %}bg-primary/10 text-primary border-primary/20{% else %}bg-slate-100 dark:bg-surface-dark text-slate-600 dark:text-slate-300 border-transparent{% endif %} rounded-full text-xs font-semibold border hover:border-primary/20 transition-colors whitespace-nowrap flex-shrink-0">
                    All ({{ site.posts.size }})
                </a>
{% assign sorted_categories = site.categories | sort %}
{% for category in sorted_categories %}
<a href="{{ site.baseurl }}/categories/{{ category[0] | slugify }}/" class="px-3 py-1.5 bg-slate-100 dark:bg-surface-dark text-slate-600 dark:text-slate-300 rounded-full text-xs border border-transparent hover:border-primary/20 transition-colors whitespace-nowrap flex-shrink-0">
                    {{ category[0] }} ({{ category[1].size }})
                </a>
{% endfor %}
</div>
</div>

<div>
<h3 class="font-mono text-[11px] uppercase tracking-widest text-slate-500 dark:text-slate-400 mb-3 flex items-center gap-2">
<span class="material-symbols-outlined text-xs">sell</span>
                _tags
            </h3>
<div class="flex flex-nowrap overflow-x-auto gap-2 no-scrollbar pb-2">
{% assign sorted_tags = site.tags | sort %}
{% for tag in sorted_tags %}
<a href="{{ site.baseurl }}/tags/{{ tag[0] | slugify }}/" class="px-3 py-1.5 bg-slate-100 dark:bg-surface-dark text-slate-600 dark:text-slate-300 rounded-full text-xs border border-transparent hover:border-primary/20 transition-colors whitespace-nowrap flex-shrink-0">
                    {{ tag[0] }}({{ tag[1].size }})
                </a>
{% endfor %}
</div>
</div>
</div>

<!-- Posts Section -->
<div class="divide-y divide-slate-200 dark:divide-border-dark">
{% if paginator %}
  {% assign posts = paginator.posts %}
{% else %}
  {% assign posts = site.posts %}
{% endif %}

{% for post in posts %}
{% assign category_colors = "accent,blue-500,purple-500,emerald-500,orange-500,pink-500,indigo-500" | split: "," %}
{% assign tag_colors = "blue-500,orange-500,slate-500,emerald-500,purple-500,yellow-500,pink-500,indigo-500,teal-500" | split: "," %}
{% assign color_index = forloop.index0 | modulo: category_colors.size %}
{% assign dot_color = category_colors[color_index] %}

<article class="p-4 hover:bg-slate-50 dark:hover:bg-surface-dark/40 transition-colors group">
<a href="{{ post.url | relative_url }}" class="flex flex-col gap-2 block">
<div class="flex items-center justify-between font-mono text-[11px] text-slate-500 dark:text-slate-400">
<span class="flex items-center gap-1.5">
<span class="size-1.5 rounded-full bg-{{ dot_color }}"></span>
                        POSTED ON {{ post.date | date: "%Y-%m-%d" }}
                    </span>
<span class="uppercase tracking-tighter">
{% assign words = post.content | number_of_words %}
{% assign read_time = words | divided_by: 200 %}
{% if read_time == 0 %}1{% else %}{{ read_time }}{% endif %} min read
</span>
</div>
<div class="flex gap-4">
<div class="flex-1">
<h2 class="text-lg font-bold leading-tight group-hover:text-primary transition-colors mb-1.5 dark:text-white">
                            {{ post.title }}
                        </h2>
<p class="text-sm text-slate-600 dark:text-slate-400 line-clamp-2 mb-3 leading-relaxed">
                            {{ post.excerpt | strip_html | truncate: 150 }}
                        </p>
</div>
</div>
<div class="flex flex-wrap items-center gap-2 mt-auto">
{% if post.categories %}
  {% for category in post.categories limit:2 %}
    {% assign cat_color_index = forloop.index0 | modulo: tag_colors.size %}
    {% assign cat_color = tag_colors[cat_color_index] %}
    <span class="tag-pill bg-{{ cat_color }}/10 border-{{ cat_color }}/20 text-{{ cat_color }}">#{{ category }}</span>
  {% endfor %}
{% endif %}
{% if post.tags %}
  {% for tag in post.tags limit:2 %}
    {% assign tag_color_index = forloop.index0 | modulo: tag_colors.size %}
    {% assign t_color = tag_colors[tag_color_index] %}
    <span class="tag-pill bg-{{ t_color }}/10 border-{{ t_color }}/20 text-{{ t_color }}">#{{ tag }}</span>
  {% endfor %}
{% endif %}
</div>
</a>
</article>
{% endfor %}
</div>
</main>

<footer class="p-8 pb-32 flex flex-col items-center gap-4 text-center">
{% if paginator %}
<div class="flex gap-2 font-mono">
{% if paginator.previous_page %}
<a href="{{ paginator.previous_page_path | relative_url }}" class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded text-slate-700 dark:text-slate-300 hover:border-primary transition-colors">
<span class="material-symbols-outlined">chevron_left</span>
</a>
{% else %}
<button class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded text-slate-400" disabled>
<span class="material-symbols-outlined">chevron_left</span>
</button>
{% endif %}

{% for page_num in (1..paginator.total_pages) %}
  {% if page_num == paginator.page %}
    <span class="size-10 flex items-center justify-center bg-primary text-white rounded font-bold shadow-lg shadow-primary/20">{{ page_num }}</span>
  {% elsif page_num == 1 %}
    <a href="{{ '/posts/' | relative_url }}" class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded dark:text-white hover:border-primary transition-colors">{{ page_num }}</a>
  {% else %}
    <a href="{{ site.paginate_path | relative_url | replace: ':num', page_num }}" class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded dark:text-white hover:border-primary transition-colors">{{ page_num }}</a>
  {% endif %}
{% endfor %}

{% if paginator.next_page %}
<a href="{{ paginator.next_page_path | relative_url }}" class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded dark:text-white hover:border-primary transition-colors">
<span class="material-symbols-outlined">chevron_right</span>
</a>
{% else %}
<button class="size-10 flex items-center justify-center border border-slate-200 dark:border-border-dark rounded text-slate-400" disabled>
<span class="material-symbols-outlined">chevron_right</span>
</button>
{% endif %}
</div>
{% endif %}

<div class="font-mono text-[10px] text-slate-400 uppercase tracking-widest">
        GENERATED BY JEKYLL {% if jekyll.version %}{{ jekyll.version }}{% else %}V4.3.3{% endif %}
    </div>
</footer>

<!-- Floating Action Bar -->
<nav class="fixed bottom-8 left-1/2 -translate-x-1/2 flex items-center gap-1 bg-card-dark/90 dark:bg-card-dark/90 backdrop-blur-2xl px-2 py-2 rounded-full shadow-2xl border border-surface-dark/50 ring-1 ring-white/5 z-50">
<a href="/" class="flex items-center gap-2 px-4 py-2 {% if page.url == '/' %}text-primary{% else %}text-gray-300 hover:text-primary{% endif %} transition-colors">
<span class="material-symbols-outlined !text-[20px]">home</span>
<span class="text-xs font-bold uppercase">Home</span>
</a>
<div class="w-px h-4 bg-surface-dark"></div>
<a href="/posts/" class="flex items-center gap-2 px-4 py-2 {% if page.url contains '/posts' %}text-primary{% else %}text-gray-300 hover:text-primary{% endif %} transition-colors">
<span class="material-symbols-outlined !text-[20px]" style="font-variation-settings: 'FILL' {% if page.url contains '/posts' %}1{% else %}0{% endif %};">dynamic_feed</span>
<span class="text-xs font-bold uppercase">Feed</span>
</a>
</nav>

<script>
// Keyboard shortcut for search (/)
document.addEventListener('keydown', function(e) {
    if (e.key === '/' && !['INPUT', 'TEXTAREA'].includes(document.activeElement.tagName)) {
        e.preventDefault();
        document.getElementById('search-input').focus();
    }
});

// Search functionality (basic client-side filtering)
document.getElementById('search-input')?.addEventListener('input', function(e) {
    const searchTerm = e.target.value.toLowerCase();
    const articles = document.querySelectorAll('article');

    articles.forEach(article => {
        const text = article.textContent.toLowerCase();
        if (text.includes(searchTerm)) {
            article.style.display = '';
        } else {
            article.style.display = 'none';
        }
    });
});
</script>

</body>
</html>
